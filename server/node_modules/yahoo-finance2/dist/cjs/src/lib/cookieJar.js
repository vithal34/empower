"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.MyCookieJar = void 0;
const tough_cookie_1 = require("tough-cookie");
class MyCookieJar extends tough_cookie_1.CookieJar {
    setFromSetCookieHeaders(setCookieHeader, url) {
        let cookies;
        // console.log("setFromSetCookieHeaders", setCookieHeader);
        if (typeof setCookieHeader === "undefined") {
            // no-op
        }
        else if (setCookieHeader instanceof Array) {
            cookies = setCookieHeader.map((header) => tough_cookie_1.Cookie.parse(header));
        }
        else if (typeof setCookieHeader === "string") {
            cookies = [tough_cookie_1.Cookie.parse(setCookieHeader)];
        }
        if (cookies)
            for (const cookie of cookies)
                if (cookie instanceof tough_cookie_1.Cookie) {
                    // console.log("setCookieSync", cookie, url);
                    this.setCookieSync(cookie, url);
                }
    }
}
exports.MyCookieJar = MyCookieJar;
const cookiejar = new MyCookieJar();
exports.default = cookiejar;
